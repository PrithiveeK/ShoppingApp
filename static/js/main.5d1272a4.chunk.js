(this["webpackJsonpshopping-app"]=this["webpackJsonpshopping-app"]||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports={icon:"favCart_icon__N1fwL",adder:"favCart_adder__2NoHs","cart-line-1":"favCart_cart-line-1__2VklL","cart-line-2":"favCart_cart-line-2__36Fh6","cart-wheel":"favCart_cart-wheel__1zhas",circle:"favCart_circle__GL3RW",add:"favCart_add__3X71z",done:"favCart_done__1arPw",data:"favCart_data__1WFAq"}},,,,,,,function(e,t,a){e.exports={product:"product_product__3YIX2","product-description":"product_product-description__2oQF8","product-img":"product_product-img__2w5rI","desc-data":"product_desc-data__2DOgK","purchase-btn":"product_purchase-btn__A2y2D"}},,function(e,t,a){e.exports={"header-container":"header_header-container__3-vlr","header-title":"header_header-title__2p7l-","user-container":"header_user-container__1O_sK",user:"header_user__1oJDx"}},function(e,t,a){e.exports={"ls-container":"loginSignup_ls-container__2UGF6","form-container":"loginSignup_form-container__1lcrk"}},function(e,t,a){e.exports={"add-item":"newProduct_add-item__2K59m","item-submitter":"newProduct_item-submitter__34GTZ","input-field":"newProduct_input-field__1FMTh"}},,,,,,,,function(e,t,a){e.exports={"shopping-list":"shoppingList_shopping-list__2MC8l"}},function(e,t,a){e.exports=a(41)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),n=a(25),c=a.n(n),o=(a(33),a(34),a(12)),l=a(2),i=a(4),u=a(5),d=a(7),m=a(6),p=(a(35),a(14)),f=a(1),h=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).changeDetail=function(e){var t=e.target;r.setState(Object(f.a)(Object(f.a)({},r.state),{},Object(p.a)({},t.name,t.value)))},r.validateLogin=function(e){e.preventDefault();var t=r.props.userData[r.state.userEmail];t&&t.userPassword===r.state.userPassword?(localStorage.setItem("loggedInUser",JSON.stringify(t)),r.setState(Object(f.a)(Object(f.a)({},r.state),{},{logIn:!0}))):r.setState(Object(f.a)(Object(f.a)({},r.state),{},{accNExist:!0}))},r.state={userEmail:"",userPassword:"",accNExist:!1,logIn:!1},r}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state,t=e.userEmail,a=e.userPassword,r=e.accNExist;return e.logIn?s.a.createElement(l.a,{to:"/home"}):s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",null,"Log In"),s.a.createElement("form",{className:"d_flex fd_col fs_24",onSubmit:this.validateLogin},s.a.createElement("label",{htmlFor:"userEmail",className:"input-label"},"Email"),s.a.createElement("input",{type:"email",name:"userEmail",className:"inputter fs_24",value:t,onChange:this.changeDetail}),s.a.createElement("label",{htmlFor:"userPassword",className:"input-label"},"Password"),s.a.createElement("input",{type:"password",name:"userPassword",className:"inputter fs_24",value:a,onChange:this.changeDetail}),s.a.createElement("button",{type:"submit",className:"submit-btn fs_24"},"Log In")),r&&s.a.createElement("p",{className:"error"},"Invalid Email or Password"))}}]),a}(r.Component),g=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).changeDetails=function(e){var t=e.target,a=r.state.passMissMatch;"confirmPassword"===t.name&&(a=!(r.state.userInfo.userPassword===t.value)),r.setState(Object(f.a)(Object(f.a)({},r.state),{},{passMissMatch:a,userInfo:Object(f.a)(Object(f.a)({},r.state.userInfo),{},Object(p.a)({},t.name,t.value)),dontlet:a||!r.state.userInfo.userEmail||!r.state.userInfo.userName||!r.state.userInfo.userPassword||!r.state.userInfo.confirmPassword}))},r.storeUserInfo=function(e){e.preventDefault();var t=r.props.userData,a=Object(f.a)({},r.state.userInfo);t.hasOwnProperty(a.userEmail)?r.setState(Object(f.a)(Object(f.a)({},r.state),{},{accExists:!0})):(delete a.confirmPassword,t[r.state.userInfo.userEmail]=Object(f.a)(Object(f.a)({},a),{},{fav:[],cart:[]}),localStorage.setItem("users",JSON.stringify(t)),localStorage.setItem("loggedInUser",JSON.stringify(Object(f.a)(Object(f.a)({},a),{},{fav:[],cart:[]}))),r.setState(Object(f.a)(Object(f.a)({},r.state),{},{signUp:!0})))},r.state={userInfo:{userName:"",userEmail:"",userPassword:"",confirmPassword:""},passMissMatch:!1,dontlet:!0,accExists:!1,signUp:!1},r}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state,t=e.userInfo,a=e.passMissMatch,r=e.dontlet,n=e.accExists;return e.signUp?s.a.createElement(l.a,{to:"/home"}):s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",null,"Sign Up"),s.a.createElement("form",{className:"d_flex fd_col fs_24",onSubmit:this.storeUserInfo},s.a.createElement("label",{htmlFor:"userName",className:"input-label"},"User Name"),s.a.createElement("input",{type:"text",name:"userName",className:"inputter fs_24",value:t.userName,onChange:this.changeDetails}),s.a.createElement("label",{htmlFor:"userEmail",className:"input-label"},"Email"),s.a.createElement("input",{type:"email",name:"userEmail",className:"inputter fs_24",value:t.userEmail,onChange:this.changeDetails}),s.a.createElement("label",{htmlFor:"userPassword",className:"input-label"},"Password"),s.a.createElement("input",{type:"password",name:"userPassword",className:"inputter fs_24",value:t.userPassword,onChange:this.changeDetails}),s.a.createElement("label",{htmlFor:"confirmPassword",className:"input-label"},"Confirm Password",a&&s.a.createElement("span",null,"*Password donot match")),s.a.createElement("input",{type:"password",name:"confirmPassword",className:"inputter fs_24",value:t.confirmPassword,onChange:this.changeDetails}),s.a.createElement("button",{type:"submit",className:"submit-btn fs_24",disabled:r},"Sign Up"),n&&s.a.createElement("p",{className:"error"},"Account already Exists")))}}]),a}(r.Component),v=a(18),_=a.n(v),b=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={userData:{}},r}return Object(u.a)(a,[{key:"componentDidMount",value:function(){localStorage.removeItem("loggedInUser"),this.setState({userData:JSON.parse(localStorage.getItem("users"))||{}})}},{key:"render",value:function(){return s.a.createElement("div",{className:"d_flex body_h ".concat(_.a["ls-container"])},s.a.createElement("div",{className:"padd_20 br_8 bs_small ".concat(_.a["form-container"])},s.a.createElement(h,{userData:this.state.userData})),s.a.createElement("div",{className:"padd_20 br_8 bs_small ".concat(_.a["form-container"])},s.a.createElement(g,{userData:this.state.userData})))}}]),a}(r.Component),E=function(e){var t=e.stroke,a=e.fill;return s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",id:"svg1",viewBox:"0 0 475.82 442.01",version:"1.0"},s.a.createElement("g",{id:"layer1",transform:"translate(-134.07 -225.8)"},s.a.createElement("path",{id:"path7",d:"m263.42 235.15c-66.24 0-120 53.76-120 120 0 134.75 135.93 170.08 228.56 303.3 87.57-132.4 228.56-172.85 228.56-303.3 0-66.24-53.76-120-120-120-48.05 0-89.4 28.37-108.56 69.18-19.16-40.81-60.52-69.18-108.56-69.18z",stroke:t,strokeWidth:"20",fill:a})))},O=a(8),N=a.n(O),j=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).addToFav=function(){r.state.isFav?r.props.removeFav(r.props.productId):r.props.addFav(r.props.productId),r.setState(Object(f.a)(Object(f.a)({},r.state),{},{isFav:!r.state.isFav}))},r.addToCart=function(){r.state.isCart||(r.props.addCart(r.props.productId),r.setState(Object(f.a)(Object(f.a)({},r.state),{},{isCart:!0})))},r.user=JSON.parse(localStorage.getItem("loggedInUser")),r.state={isFav:r.props.fav,isCart:r.props.cart},r}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state.isFav?"red":"white",t=this.state.isCart?N.a.done:N.a.add;return this.props.fill&&(e="red",t=N.a.data),s.a.createElement("div",{className:"d_flex"},s.a.createElement("div",{className:"".concat(N.a.icon," ").concat(N.a[this.props.fill?"":"adder"]),onClick:this.addToFav},s.a.createElement(E,{stroke:"red",fill:e}),this.props.fill&&s.a.createElement("div",{className:N.a.circle,style:{top:0,left:"65%"}},s.a.createElement("i",{className:N.a.data},this.props.favLen))),s.a.createElement("div",{className:"".concat(N.a.icon," ").concat(N.a[this.props.fill?"":"adder"]),onClick:this.addToCart},s.a.createElement("div",{className:N.a["cart-line-1"]}),s.a.createElement("div",{className:N.a["cart-line-2"]}),s.a.createElement("div",{className:N.a["cart-wheel"]}),s.a.createElement("div",{className:N.a.circle},s.a.createElement("i",{className:t},this.props.fill?this.props.cartLen:null))))}}]),a}(r.Component),w=a(15),S=a.n(w),I=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={isAFav:r.updateState("fav"),isInCart:r.updateState("cart")},r}return Object(u.a)(a,[{key:"updateState",value:function(e){var t=this;return-1!==JSON.parse(localStorage.getItem("loggedInUser"))[e].findIndex((function(e){return e._id===t.props.product._id}))}},{key:"render",value:function(){var e=this.props.product,t=e.productTitle,a=e.productDesc;return s.a.createElement("div",{className:"br_8 p_rel bs_small ".concat(S.a.product)},s.a.createElement("img",{src:"//unsplash.it/300/350",alt:"",className:"w_100 br_8 ".concat(S.a["product-img"])}),s.a.createElement("div",{className:"w_100 br_8 d_flex fd_col ".concat(S.a["product-description"])},s.a.createElement("h1",{className:"fs_24"},t||"No Title"),s.a.createElement("div",{className:"d_flex"},s.a.createElement("button",{className:"flex_1 ".concat(S.a["purchase-btn"])},"Buy Now"),s.a.createElement(j,{productId:this.props.product._id,fav:this.state.isAFav,cart:this.state.isInCart,addFav:this.props.FavCartAdder[0],removeFav:this.props.FavCartAdder[1],addCart:this.props.FavCartAdder[2]}))),s.a.createElement("p",{className:"p_abs w_100 br_8 ".concat(S.a["desc-data"])},a||"No Description"))}}]),a}(r.Component),C=a(17),y=a.n(C),P=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(){console.log("updated")}},{key:"render",value:function(){return s.a.createElement("header",{className:"d_flex ".concat(y.a["header-container"])},s.a.createElement("h1",{className:"flex_1 ".concat(y.a["header-title"])},"Shopping"),s.a.createElement("div",{className:"d_flex ".concat(y.a["user-container"])},s.a.createElement("div",{className:"d_flex fd_col ".concat(y.a.user)},this.props.user.userName,s.a.createElement(o.b,{to:"/"},"Logout")),s.a.createElement(j,{fill:"red",cartLen:this.props.user.cart.length,favLen:this.props.user.fav.length})))}}]),a}(r.Component),x=a(27),D=a.n(x),F=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).updateLoggedUser=function(e){localStorage.setItem("loggedInUser",JSON.stringify(e)),r.setState(Object(f.a)(Object(f.a)({},r.state),{},{loggedUser:e}))},r.addFav=function(e){var t=r.state.loggedUser;t.fav.push(r.state.ProductDetails[e]),r.updateLoggedUser(t)},r.removeFav=function(e){var t=r.state.loggedUser.fav.findIndex((function(t){return t._id===r.state.ProductDetails[e]._id})),a=r.state.loggedUser;a.fav.splice(t,1),r.updateLoggedUser(a)},r.addCart=function(e){var t=r.state.loggedUser;t.cart.push(r.state.ProductDetails[e]),r.updateLoggedUser(t)},r.state={loggedUser:JSON.parse(localStorage.getItem("loggedInUser")),ProductDetails:JSON.parse(localStorage.getItem("products"))||[]},r}return Object(u.a)(a,[{key:"componentWillUnmount",value:function(){var e=JSON.parse(localStorage.getItem("users"));e[this.state.loggedUser.userEmail]=JSON.parse(localStorage.getItem("loggedInUser")),localStorage.setItem("users",JSON.stringify(e))}},{key:"render",value:function(){var e=this;return this.state.loggedUser?s.a.createElement(s.a.Fragment,null,s.a.createElement(P,{user:this.state.loggedUser}),s.a.createElement("div",{className:"d_flex ".concat(D.a["shopping-list"])},this.state.ProductDetails.map((function(t){return s.a.createElement(I,{key:t._id,product:t,FavCartAdder:[e.addFav,e.removeFav,e.addCart]})})))):s.a.createElement(l.a,{to:"/"})}}]),a}(r.Component),U=a(19),k=a.n(U),J=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var r,s;return Object(i.a)(this,a),(s=t.call(this,e)).changeTitle=function(e){s.setState(Object(f.a)(Object(f.a)({},s.state),{},{productTitle:e.target.value}))},s.changeDesc=function(e){s.setState(Object(f.a)(Object(f.a)({},s.state),{},{productDesc:e.target.value}))},s.addProduct=function(){var e=JSON.parse(localStorage.getItem("products"))||[];e.push(s.state),localStorage.setItem("products",JSON.stringify(e)),s.setState(Object(f.a)(Object(f.a)({},s.state),{},{_id:s.state._id+1}))},s.state={_id:(null===(r=JSON.parse(localStorage.getItem("products")))||void 0===r?void 0:r.length)||0,productTitle:"",productDesc:""},s}return Object(u.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"w_100 d_flex body_h"},s.a.createElement("form",{className:"d_flex fd_col m_auto br_8 bs_small ".concat(k.a["add-item"]),onSubmit:this.addProduct},s.a.createElement("label",{className:"fs_24"},"Product Title"),s.a.createElement("input",{type:"text",value:this.state.productTitle,className:"fs_24 ".concat(k.a["input-field"]),onChange:this.changeTitle}),s.a.createElement("label",{className:"fs_24"},"Product Description"),s.a.createElement("textarea",{rows:"10",cols:"50",value:this.state.productDesc,onChange:this.changeDesc}),s.a.createElement("button",{type:"submit",className:"br_8 fs_24 ".concat(k.a["item-submitter"])},"Add Product")))}}]),a}(r.Component);var L=function(){return s.a.createElement(o.a,{basename:"/"},s.a.createElement("div",{className:"App"},s.a.createElement(l.b,{exact:!0,path:"/",component:b}),s.a.createElement(l.b,{path:"/home",component:F}),s.a.createElement(l.b,{path:"/admin",component:J})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[28,1,2]]]);
//# sourceMappingURL=main.5d1272a4.chunk.js.map